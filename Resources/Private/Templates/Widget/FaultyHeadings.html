<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" xmlns:semantilizer="http://typo3.org/ns/Zeroseven/Semantilizer/ViewHelpers" xmlns:be="http://typo3.org/ns/TYPO3/CMS/Backend/ViewHelpers"
			xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers" data-namespace-typo3-fluid="true">

<f:layout name="Widget/Widget"/>

<f:section name="title">
	{f:translate(key: 'widget.title', default: configuration.title, extensionName: 'z7_semantilizer')}
</f:section>

<f:section name="main">
	<f:spaceless>
		<div class="semantilizer-widget--check-headings">
			<f:if condition="{pages}">
				<f:then>
					<div class="widget-table-wrapper">
						<table class="widget-table">
							<f:for each="{pages}" as="page">
								<tr>
									<td>
										{semantilizer:flag(sysLanguageUid: page.data.sysLanguageUid)}
										<a class="semantilizer-widget__pagelink" href="{be:moduleLink(route: 'web_layout', query: 'id={f:if(condition:page.data.l10nParent, then:page.data.l10nParent, else: page.data.uid)}&SET[language]={page.data.sysLanguageUid}')}">{page.data.title}:</a>

										<small>
											<f:for each="{page.notifications}" as="notification">
												<br/>
												{f:translate(key:'notification.{notification.key}.title', extensionName: 'z7_semantilizer')}
												<f:if condition="{notification.fixLink}">
													<a href="{notification.fixLink}">
														[{f:translate(key:'notification.fixIt', extensionName: 'z7_semantilizer')}]
													</a>
												</f:if>
											</f:for>
										</small>
									</td>
								</tr>
							</f:for>
						</table>
					</div>
				</f:then>
				<f:else>
					<div class="semantilizer-widget__congratulation">
						{core:icon(identifier: 'actions-check', size: 'large')}
						<p>{f:translate(key: 'widget.congratulation', extensionName: 'z7_semantilizer')}</p>
					</div>
				</f:else>
			</f:if>
		</div>
	</f:spaceless>
</f:section>

</html>
